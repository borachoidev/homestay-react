<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bitcamp.korea_tour.model.mapper.HomeStayListMapper">
	<!-- 홈스테이 전체 목록 출력 --> <!-- 최저가 , 평점높은순 -->
	<select id="getAllHomeStayList" parameterType="HashMap" resultType="homestaylist">
		SELECT * FROM homeStay
	    WHERE approval=1 AND open=1
	    ORDER BY price ASC
	    LIMIT #{start}, #{perPage};
	</select>
	<select id="getTotalHomeStayList" resultType="int">
		SELECT count(*) FROM homeStay
	    WHERE approval=1 AND open=1
	</select>
	<select id="getAllHomeStayPhoto" parameterType="int" resultType="homestayphoto">
		SELECT * FROM homeStay
		join homeStayPhoto on homeStay.homeStayNum=homeStayPhoto.homeStayNum
        And homeStay.approval=1 And homeStay.open=1
        WHERE homeStay.homeStayNum=#{homeStayNum}
        ORDER BY homeStayPhoto.homeStayPhotoNum ASC;
	</select>
</mapper>